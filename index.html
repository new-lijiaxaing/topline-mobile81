<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <input type="button" value="按钮" onclick="fn()">
  <!-- <table>
    <tr>
      <th>序号</th>
      <th>姓名</th>
      <th>年龄</th>
    </tr>

    <tr>
      <td>1</td>
      <td>张三</td>
      <td>18</td>
    </tr>
  </table> -->

  <script>
    // 文档对象的使用
    // 创建了一个DocumentFragment，是内存中的 小document，不在文档树上
    var fragment = document.createDocumentFragment()

    var div = document.createElement('div')
    div.innerHTML = 'DocumentFragment'
    fragment.appendChild(div)

    document.body.appendChild(fragment)




    function fn () {
      createTable(header, body)
    }
    var header = ['姓名', '年龄', '成绩']
    var body = [
      {
        name: 'zs',
        age: 18,
        score: 100
      },
      {
        name: 'ls',
        age: 19,
        score: 200
      }
    ]

    // createTable(header, body)

    function createTable (header, body) {
      // 判断页面上是否已经生产表格
      var table = document.querySelector('#mytable')
      if (table) {
        return
      }

      table = document.createElement('table')
      table.id = 'mytable'
      document.body.appendChild(table)

      createTableHeader(table, header)

      createTableBody(table, body)
    }
    
    function createTableHeader (table, header) {
      var tr = document.createElement('tr')
      table.appendChild(tr)
      header.forEach((item) => {
        var th = document.createElement('th')
        th.textContent = item
        tr.appendChild(th)
      })
    }
    function createTableBody (table, body) {
      body.forEach((item) => {
        var tr = document.createElement('tr')
        table.appendChild(tr)
        // 遍历对象
        for (var key in item) {
          var td = document.createElement('td')
          td.textContent = item[key]
          tr.appendChild(td)
        }
      })
    }
  </script>
</body>
</html>